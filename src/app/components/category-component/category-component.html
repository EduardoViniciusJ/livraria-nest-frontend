<div class="border p-5">
  <div class="flex justify-end mb-4">
    <p-button label="Nova Categoria" icon="pi pi-plus" severity="success"></p-button>
  </div>

  <p-table
      [value]="(categories$ | async) ?? []"
      [rows]="5"
      [paginator]="true"
      [tableStyle]="{ 'min-width': '40rem' }"
      dataKey="id"
      [rowHover]="true"
      currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} categorias"
      [showCurrentPageReport]="true"
  >
      <ng-template #header>
          <tr>
              <th>Nome</th>
              <th style="text-align: center;">Ações</th>
          </tr>
      </ng-template>

      <ng-template #body let-category>
          <tr>
              <td>{{ category.name }}</td>
              <td style="text-align: center;">
                  <div style="display: inline-flex; gap: 4px;">
                      <p-button label="Editar" size="small" severity="info" /> 
                      <p-button label="Excluir" size="small" severity="danger" (click)="deleteCategory(category)" />  
                  </div>
              </td>
          </tr>
      </ng-template>

      <ng-template #footer>
          <tr>
              <td colspan="2">Total de categorias: {{ (categories$ | async)?.length || 0 }}</td>
          </tr>
      </ng-template>
  </p-table>
</div>
