<div class="p-5">
  <h2 class="text-2xl font-bold mb-4">ðŸ“š Livros</h2>
  
  <p-table 
    [value]="(books$ | async) ?? []"
    dataKey="id"
    [tableStyle]="{'min-width': '70rem'}"
    [paginator]="true" 
    [rows]="10">
    
    <ng-template pTemplate="header">
      <tr>
        <th>TÃ­tulo</th>
        <th>Autor</th>
        <th>PreÃ§o</th>
        <th>Categorias</th>
        <th>Capa</th>
      </tr>
    </ng-template>
    
    <ng-template pTemplate="body" let-book>
      <tr>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.price | currency:'BRL' }}</td>
        <td>
          @for (category of book.categories; track category.id) {
            <p-tag 
              [value]="category.name" 
              severity="info" 
              style="margin-right: 5px;">
            </p-tag>
          }
        </td>
        <td>
          <img 
            [src]="book.imageUrl" 
            [alt]="book.title" >
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>